# My Home Assistant installation
This is my personal Home Assistant compilation, for home automations. Home Assistant is an open source home automation software that puts local control and privacy first. Powered by a worldwide community of tinkerers and DIY enthusiasts. If you like this repo, be sure ⭐️ Star this repository.


![My Home Assistant Default View](HA_prev.gif)

# My smartdevices
* [Dell Latitude E6440](https://images.app.goo.gl/BYKu5FVRBVFyCpzw8)
* [Raspberry Pi 3 Model B and B+ 32bit](https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus)
* [Netgear Nighthawk AC1900](https://www.netgear.nl/home/products/networking/wifi-routers/r7000.aspx)
* [Moto g5ˢ plus](https://www.motorola.com/nl/products/moto-g-plus-gen-5-special-edition)
* [Xiaomi Amazfit BIP](https://www.xiaomiproducts.nl/xiaomi-amazfit-bip.html)
* [KKmoon 960P Wireless WiFi IP Camera Outdoor PTZ 2.8-12mm](https://www.aliexpress.com/item/32685546170.html?spm=a2g0s.9042311.0.0.27424c4dqFueKH)
* [Gogogate2 Smart Garage Opener](https://shop.ismartgate.com/26-garage-door-openers)
* [Gogogate2 Wired Gate Sensor](https://shop.ismartgate.com/sensors/27-smart-gate-door-wired-sensor-8437012951372.html)
* [Audi A3 Sportback e-tron](https://www.audi.nl/nl/web/nl/modellen/a3/a3-sportback-e-tron.html)
* [Goodwe inverter](https://www.goodwe.com)
* [Daikin split unit FTXB-35C](http://www.daikintech.co.uk/Data/Siesta_Indoor/FTXB/2016/FTXB-C(2)V1B/FTXB20-35C2V1B/FTXB-C(2)V1B_Databook_EEDEN15-100_tcm219-368915.pdf)
* [Select plus wireless doorbell 433Mhz](https://www.domoticz.com/forum/viewtopic.php?t=11952)
* [Kasa Smart WiFi Plug by TP-Link](https://www.amazon.de/gp/product/B06W586CDZ/ref=ppx_yo_dt_b_asin_title_o02_s00?ie=UTF8&psc=1)
* [MEDION® LIFE 4K SmartTV X14907](https://www.medion.com/be/nl/service/start/_product.php?msn=30026181&gid=9)
* [Ziggo NEXT mediabox 4K](https://www.ziggo.nl/televisie/mediaboxen/mediabox-next/#ziggo-tv)
* [X92 Amlogic S912 Octa-Core TV Box w/ 3GB DDR3, 16GB ROM+C120 Air Mouse](https://www.dx.com/p/x92-amlogic-s912-octa-core-tv-box-w-2gb-ram-16gb-rom-c120-air-mouse-2079814.html#.XcaTMTNKiUk)
* [Media Player Himedia Q5 PRO](https://www.amazon.com/Himedia-Q5-Android-Compatible-Bluetooth/dp/B07C9BW6XV/ref=sr_1_1?keywords=himedia+%E2%84%A2+q5+pro+4k&qid=1573295192&sr=8-1)
* [Chromecast 2018](https://tweakers.net/pricewatch/1249133/google-chromecast-(2018)-zwart/specificaties/)
* [Broadlink RM Mini3 Black Bean Universal Remote](https://www.amazon.com/Broadlink-RM-Mini3-Universal-Controller-Compatible/dp/B01FK2SDOC/ref=redir_mobile_desktop?_encoding=UTF8&aaxitk=DKPi4-Jfl4IhIG2CIEz7cw&hsa_cr_id=5850900170001)
* [USB Infrared repeater extension cable](https://www.amazon.de/gp/product/B01M7NEKFX/ref=ppx_yo_dt_b_asin_title_o03_s00?ie=UTF8&psc=1)
* [Sonoff RF Bridge 433 RF Bridge](https://blakadder.github.io/templates/sonoff_RF_bridge.html)
* [Sonoff PIR 433Mhz Motion sensor](https://www.amazon.de/gp/product/B079CW7TY4/ref=ppx_yo_dt_b_asin_title_o04_s00?ie=UTF8&psc=1)
* [Battery Powered 433MHz EV1527 Wireless Smoke Sensor Detector](https://nl.aliexpress.com/item/32856013726.html?spm=a2g0s.9042311.0.0.67f44c4dw5HyWx)
* [GS-WDS07 Wireless Door Window Sensor Magnetic Strip 433MHz](https://www.aliexpress.com/item/32966362334.html?spm=a2g0s.9042311.0.0.27424c4dOd5jmc)
* [Sonoff Dual R2 Relay](https://blakadder.github.io/templates/sonoff_dual_R2.html)
* [Sonoff TH10/TH16 Relay](https://blakadder.github.io/templates/sonoff_TH.html)
* [Sonoff RF Relay](https://blakadder.github.io/templates/sonoff_RF.html)
* [Sonoff S20 Plug](https://blakadder.github.io/templates/sonoff_S20.html)
* [Shelly 1 Relay](https://blakadder.github.io/templates/shelly_1.html)
* [Shelly 2 Power Monitoring Relay](https://blakadder.github.io/templates/shelly_2.html)
* [Blitzwolf BW-SHP6 Power Monitoring Plug](https://blakadder.github.io/templates/blitzwolf_SHP6.html)
* [Zemismart ZM-CSW002-D Roller shutter](https://www.zemismart.com/zigbee-eu-curtain-wall-light-switch-compatible-with-smartthing-hub-echo-plus-app-phone-voice-control-p0202-p0202.html)
* [Osram RGB infrared LED 4,5 W GU10](https://www.amazon.com/YAYZA-Dimmable-Changing-Spotlight-Downlight/dp/B07GYVVY9L/ref=sr_1_fkmr1_1?keywords=GU10+RGB+osram+infrared&qid=1573293871&sr=8-1-fkmr1)
* [Wifi Smart Switch module 220-240V 2300W Controller](https://nl.aliexpress.com/item/32972105785.html?spm=a2g0s.9042311.0.0.67f44c4dw5HyWx)
* [2-Way sprinkler valve ball AC230](https://www.amazon.de/gp/your-account/order-history/ref=ppx_yo_dt_b_pagination_1_2?ie=UTF8&orderFilter=year-2018&search=&startIndex=10)
* [4 ways white distribution box with fixed din rail](https://www.aliexpress.com/item/32620949631.html?spm=a2g0s.9042311.0.0.27424c4dqFueKH)
* [CH340 module USB to TTL CH340G](https://www.aliexpress.com/item/32713914780.html?spm=a2g0s.9042311.0.0.27424c4dqFueKH)
* [NodeMcu V3 V2 Lua module CH340/CP2102 Wireless](https://www.aliexpress.com/item/32656401198.html?spm=a2g0s.9042311.0.0.67f44c4dw5HyWx)
* [WeMos D1 Mini WiFi Development Board ESP8266 ESP](https://www.aliexpress.com/item/32843941131.html?)
* [WeMos D1 CH340 CH340G WiFi Development Board ESP8266 ESP](https://www.aliexpress.com/item/32961435915.html?spm=a2g0s.9042311.0.0.27424c4drXMrud)
* [4 Channel 5V Relay Swtich Expansion Drive Board LED Indicator Relay Shiel](https://www.aliexpress.com/item/32907851752.html?spm=a2g0s.9042311.0.0.27424c4drXMrud)
* [DHT22/AM2302 Digital Temperature and Humidity Sensor with Wire Wire](https://www.amazon.de/gp/product/B01DB8JH4M/ref=ppx_yo_dt_b_asin_title_o00_s00?ie=UTF8&psc=1)

## About
This are currently my devices for my [Home Assistant assembly](https://home-assistant.io) which is running on two devices: 
* Virtual appliance [VMDK](https://www.home-assistant.io/hassio/installation) on a Dell Latitude E6440 Windows 10 laptop.
* [Raspberry Pi 3 Model B and B+ 32bit](https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus).

## Energy
On the virtual device runs the master instance of [Hassio](https://www.home-assistant.io/hassio/installation), and on de Pie runs a [slave instance](https://github.com/lukas-hetzenecker/home-assistant-remote) via [HACS](https://github.com/hacs/integration) installation written by Lukas H. 
My pie is located in the metercabinet and connected via [USB-P1 kabel](https://www.robbshop.nl/slimme-meter-kabel) to the smart electricity and gasmeter. The [DSMR](https://www.home-assistant.io/integrations/dsmr) sensor integrates the gas and electricity consumer en generation values. Electricity production is provided by 22 solar panels. An [three phase inverter](https://www.goodwe.com) converts the direct current into alternating current, making the electricity available for indoor use and for charging the [hybrid car](https://www.audi.nl/nl/web/nl/modellen/a3/a3-sportback-e-tron.html). The excess electricity is returned to the electricity supplier. All consumers and generation values are recorded and can be shown in [clear graphs](https://github.com/hassio-addons/addon-grafana), in order to be able to quickly identify special deviations. A pre-set timer ensures that the hybrid car is charged on working days and has a heated / cooled indoor climate, just before departure.

## Schedules
Every morning on [workdays](https://www.home-assistant.io/integrations/workday/), HASS starts a [morning ritual](https://www.home-assistant.io/integrations/kodi/), whereby a preset music collection or radio station ensures that the day starts pleasantly with nice music and the latest news. HASS displays the family agenda in the user interface, so that important things are not missed. In the evening, HASS ensures that the lighting in the living room and kitchen is switched on when [darkness falls](https://www.home-assistant.io/docs/ecosystem/appdaemon/#sunrisesunset-lighting), but only when this living area is occupied. Outdoors, cozy mood lighting is also switched on and is automatically switched off at bed time. To keep the garden in good condition, HASS checks the [buienradar](https://www.home-assistant.io/integrations/sensor.buienradar/) every Friday to see if there is enough rain in the coming days. If this is less than 10 mm, the sprinkler system is switched on preventively.

## Security
In addition to a traditional alarm installation indoors, a [PTZ HD camera](https://www.aliexpress.com/item/32685546170.html?spm=a2g0s.9042311.0.0.27424c4dqFueKH) is set up at the driveway. The camera reports the movements on the driveway to HASS. In the back garden, the outbuildings have been expanded with [movement sensors](https://www.amazon.de/gp/product/B079CW7TY4/ref=ppx_yo_dt_b_asin_title_o04_s00?ie=UTF8&psc=1), which transmit the reports via HASS to the traditional alarm system. The [carport and garage doors](https://shop.ismartgate.com/26-garage-door-openers) are automated so that they close / lock automatically when they are open, when nobody is home. HASS simultaneously sends a [notification](https://www.home-assistant.io/integrations/pushbullet/#notifications) of this to the principals. Smoke developments are detected by 6 [smoke detectors](https://nl.aliexpress.com/item/32856013726.html?spm=a2g0s.9042311.0.0.67f44c4dw5HyWx), and reported via HASS to the traditional alarm system. At the same time, notifications are sent and the panic setting is switched on, which ensures that all lamps flash, supplemented by a loud siren. In the event of inappropriate weather conditions, awning and roller shutters will be closed / opened to prevent damage.

## Convenience
When you have smart devices at your disposal, I think you can make optimum use of their convenience. Via voice commands with [Google Assistant](https://www.home-assistant.io/integrations/google_assistant/) I can, for example, switch lights on / off, activate sprinklers and control sun awning. I can control lights or carport / garage doors via my smartwatch. My smartwatch is connected via bluetooth to my smartphone where [Tasker](https://tasker.joaoapps.com/) is installed. Tasker detects when I apply a button combination to my smartwatch, and sends the corresponding [HTTP POST](https://community.home-assistant.io/t/tasker-http-post-new-auth/66303) command to HASS. For security reasons it is wise to secure the case with [TLS / SSL certificates](https://www.home-assistant.io/addons/nginx_proxy/) and an [authentication tokens](https://www.home-assistant.io/docs/authentication/). Once this is done, you can safely reach HASS anywhere in the world.

## Overview
To be able to clearly monitor all the smart components, I have made [floor plans](https://github.com/pkozul/ha-floorplan/blob/master/own-floorplan-svg-file-tutorial.md) for each floor. These floor plans are [interactive](https://github.com/pkozul/ha-floorplan), so you can also operate the devices. Lamps light up in an air condition color depending on whether cooling / heating takes place. The security camera shows direct images of the driveway. The room / outside temperatures and moisture sensors show the current results. All housemates are shown by presence. The smart doors / shutters and awning light up when they are open. In the future, these floor plans will be shown on screen on the wall when the central heating automation is complete.

## License
Copyright (c) 2019 AvdH

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
